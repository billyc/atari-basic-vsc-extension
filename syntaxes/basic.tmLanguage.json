{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Atari FastBasic",
	"patterns": [
		{
			"include": "#lineNumbers"
		},
		{
			"include": "#functions"
		},
		{
			"include": "#constants"
		}
	],
	"repository": {	
		"lineNumbers": {
			"patterns": [
				{
					"name": "comment.line.number-sign",
					"match": "^(\\d+)"
				},
				{
					"name": "comment.line",
					"match": "(\\..+)"
				},
				{
					"name": "comment.line",
					"match": "^('.*)"
				},
				{
					"name": "comment",
					"match": "('.+)$"
				},
				{
					"name": "comment.line.number-sign",
					"match": "\\b[GO TO|GOTO|GOSUB|THEN]\\w(\\d+)"
				}
			]
		},
		"functions": {
			"patterns": [
				{
					"name": "support.function",
					"match": "\\b(?i)(ABS|ADR|ASC|ATN|CHR$|CLOAD|CLOG|CLOSE|CLR|COLOR|COM|CONT|COS|CSAVE|DATA|DEG|DOS|DRAWTO|ENTER|EXP|FRE|GET|GRAPHICS|INPUT|INT|LEN|LETLIST|LOAD|LOCATE|LOG|LPRINT|NOTE|OPEN|PADDLE|PEEK|PLOT|POINT|POKE|POP|POSITION|PRINT|PTRIG|PUT|RAD|READ|REM|RESTORE|RND|SAVE|SETCOLOR|SGN|SIN|SOUND|SQR|STATUS|STICK|STRIG|STR$|USR|VAL|XIO?)\\b"
				}, 
				{
					"name": "support.function",
					"match": "\\b(?i)(DPEEK|ERR|EXP10|KEY|LOG10|RAND|TIME|PMADR)\\b"
				}, 
				{
					"name": "keyword.control",
					"match": "\\b(?i)(AND|BYE|END|ELSE|EXEC|EXIT|FOR|GOSUB|GOTO|GO TO|IF|LOOP|NEW|NEXT|NOT|ON|OR|RETURN|RUN|STEP|STOP|THEN|TO|TRAP)\\b"
				},
				{
					"name": "keyword.control",
					"match": "\\b(?i)(BGET|BPUT|DEC|DLI|DO|DPOKE|ENDIF|ELIF|FCOLOR|FILLTO|INC|MOVE|MSET|PAUSE|PMGRAPHICS|PMHPOS|PROC|REPEAT|TIMER|UNTIL|WEND|WHILE)\\b"
				},
				{
					"name": "storage.type",
					"match": "\\b(?i)(DIM|BYTE|WORD)\\b"
				}
			]
		},
		"constants": 
		{
			"patterns": [
				{
					"name": "string.quoted",
					"begin": "\"",
					"end": "\"",
					"patterns": [
						{
							"name": "constant.character.escape.basic",
							"match": "\\\\."
						}
					]
				},
				{
					"patterns": [{
						"name": "constant.numeric",
						"match": "[+-]?([0-9]*[.])?[0-9]+"
					}]
				}
			]
		}
	},
	"scopeName": "source.basic"
}
